typeof gsap<"u"&&typeof ScrollTrigger<"u"&&gsap.registerPlugin(ScrollTrigger);const f=()=>{const e=gsap.timeline({defaults:{ease:"power3.out"}}),t=document.querySelector(".gsap-fade-down"),r=document.querySelectorAll(".gsap-fade-up"),a=document.querySelectorAll(".gsap-zoom-in");t&&e.from(t,{y:-50,opacity:0,duration:.5,delay:.3}),r.length&&e.from(r,{y:50,opacity:0,duration:.5,stagger:.3},"-=0.7"),a.length&&e.from(a,{scale:.9,opacity:0,duration:.5},"-=0.5")},y=()=>{const e=document.querySelector(".hero"),t=document.querySelectorAll(".floating-element");e&&t.length&&e.addEventListener("mousemove",r=>{t.forEach(a=>{const i=a.dataset.parallaxSpeed||.2;gsap.to(a,{x:(r.clientX-window.innerWidth/2)*i,y:(r.clientY-window.innerHeight/2)*i,duration:.5,ease:"power2.out"})})})},v=()=>{ScrollTrigger.batch(".gsap-fade-up",{onEnter:e=>gsap.from(e,{y:60,opacity:0,duration:.5,stagger:.15}),start:"top 85%",toggleActions:"play none none reverse"}),ScrollTrigger.batch(".gsap-zoom-in",{onEnter:e=>gsap.from(e,{scale:.9,opacity:0,duration:.9,stagger:.15}),start:"top 85%",toggleActions:"play none none reverse"})},m=()=>{const e=document.querySelector(".container");e&&(e.addEventListener("mouseenter",t=>{t.target.classList.contains("card")&&gsap.to(t.target,{y:-10,boxShadow:"0 15px 30px rgba(0, 0, 0, 0.2)",duration:.3,ease:"power2.out"})},!0),e.addEventListener("mouseleave",t=>{t.target.classList.contains("card")&&gsap.to(t.target,{y:0,boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",duration:.3,ease:"power2.out"})},!0))},b=()=>{document.querySelectorAll(".btn").forEach(e=>{e.addEventListener("click",()=>{gsap.to(e,{scale:.95,duration:.1,yoyo:!0,repeat:1,ease:"power2.out"})})})},S=()=>{const e=document.querySelector("#testimonialCarousel");if(!e)return;const t=e.querySelectorAll(".carousel-item"),r=e.querySelectorAll(".carousel-indicators button"),a=e.querySelector(".carousel-control-prev"),i=document.querySelector(".carousel-control-next");let n=0,o=null,c=!1;const l=u=>{t.forEach((g,p)=>{g.classList.toggle("active",p===u),r[p].classList.toggle("active",p===u)}),n=u},d=()=>{o||(o=setInterval(()=>{c||(n=n===t.length-1?0:n+1,l(n))},5e3))},s=()=>{c=!0,clearInterval(o),o=null,setTimeout(d,1e4)};a.addEventListener("click",()=>{s(),n=n===0?t.length-1:n-1,l(n)}),i.addEventListener("click",()=>{s(),n=n===t.length-1?0:n+1,l(n)}),r.forEach((u,g)=>{u.addEventListener("click",()=>{s(),l(g)})}),document.addEventListener("visibilitychange",()=>{c=document.visibilityState==="hidden"}),d()},E=()=>{const e=document.querySelector(".navbar-toggler"),t=document.querySelector("#sidebarNav"),r=document.querySelector("#sidebarBackdrop"),a=document.querySelectorAll(".sidebar .nav-link");if(!e||!t||!r)return;const i=o=>{gsap.to(t,{x:o?0:"-100%",duration:.4,ease:"power3.out",onStart:()=>{t.classList.toggle("show",o),r.classList.toggle("show",o),t.setAttribute("aria-hidden",!o),e.setAttribute("aria-expanded",o)}}),gsap.to(r,{opacity:o?1:0,visibility:o?"visible":"hidden",duration:.4,ease:"power3.out"}),gsap.to(a,{x:o?0:-20,scale:o?1:.95,opacity:o?1:0,duration:.3,stagger:.05,ease:"power2.out"})};e.addEventListener("click",()=>{const o=t.classList.contains("show");i(!o),o||(n(t),a[0].focus())}),r.addEventListener("click",()=>{i(!1)}),a.forEach(o=>{o.addEventListener("click",()=>{i(!1)})});const n=o=>{const c=o.querySelectorAll('a[href], button, input, select, textarea, [tabindex]:not([tabindex="-1"])'),l=c[0],d=c[c.length-1];o.addEventListener("keydown",s=>{s.key==="Tab"&&(s.shiftKey&&document.activeElement===l?(s.preventDefault(),d.focus()):!s.shiftKey&&document.activeElement===d&&(s.preventDefault(),l.focus()))})};document.addEventListener("keydown",o=>{o.key==="Escape"&&t.classList.contains("show")&&(i(!1),e.focus())})},h=()=>{ScrollTrigger.create({trigger:document.body,start:"top top",end:"+=50",toggleClass:{targets:".navbar",className:"scrolled"}})},L=()=>{const e=document.getElementById("back-to-top");e&&(ScrollTrigger.create({trigger:document.body,start:"top+=300 top",onEnter:()=>{gsap.to(e,{opacity:1,visibility:"visible",duration:.3,ease:"power2.out"})},onLeaveBack:()=>{gsap.to(e,{opacity:0,visibility:"hidden",duration:.3,ease:"power2.out"})}}),e.addEventListener("click",t=>{t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),e.blur()}),e.addEventListener("keydown",t=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))}))},k=()=>{const e=document.querySelector(".floating-cta");e&&ScrollTrigger.create({trigger:document.body,start:"top+=300 top",onEnter:()=>{gsap.to(e,{opacity:1,visibility:"visible",duration:.3,ease:"power2.out"})},onLeaveBack:()=>{gsap.to(e,{opacity:0,visibility:"hidden",duration:.3,ease:"power2.out"})}})};document.addEventListener("DOMContentLoaded",()=>{typeof gsap<"u"&&typeof ScrollTrigger<"u"&&(f(),y(),v(),m(),h(),L(),k(),E(),b()),S()});window.addEventListener("beforeunload",()=>{ScrollTrigger.getAll().forEach(e=>e.kill())});
